---
ebook:
  theme: one-dark.css
  title: Photon
  authors: Escatrgot
  disable-font-rescaling: true
  margin: [0.1, 0.1, 0.1, 0.1]
---
<style>
        h2:not(.tit) { border-top: 12px solid #143666; border-left: 5px solid #143666; border-right: 5px solid #143666; background-color: #143666; color: #FFF !important; font-weight: bold;}

    h3:not(.tit) { border-top: 3px solid #004480; border: 2px solid #004480; background-color: #004480; color: #FFF !important;}


    h4:not(.tit) { font-weight: bold; color: #FFF !important; }

    summary { cursor:pointer; font-weight:bold; color : #0F0 !important;}

    .red{color: #d93d3d;}
    .darkred{color: #470909;}
    .orange{color: #cf6d1d;}
    .yellow{color: #DD3;}
    .green{color: #25ba00;}
    .blue{color: #169ae0;}
    .pink{color: #d10fd1;}
    .dim{color : #666666;}
    .lime{color : #addb40;}
    
    .container {
        display : flex; 
        flex-direction:row;
        align-items:center;
    }
    .item {
        margin-right:2%;
    }

    @media screen and (min-width:1001px){
        .container {
            width: 90%;
            flex-wrap : nowrap;
            justify-content:center;
        }
    }
    
    @media screen and (max-width:1000px){
        .container {
            width: 98%;
            flex-wrap : nowrap;
            justify-content:center;
        }
    }
    
    @media screen and (max-width:799px){
        .container {
            justify-content:left;
            flex-wrap : wrap;
        }
    }

</style>


---

## ğŸ”„ í”Œë ˆì´ì–´

### ğŸ“„ 1. Player Animationì„ í†µí•œ ë°©í–¥ ì¡°ì ˆ
*  Apply Root Motionì„ ì‚¬ìš©í•˜ê³ , ì• ë‹ˆë©”ì´ì…˜ì— Left, Right ìŒì§ì„ì„ ë‚´í¬í•˜ë©´ 
ì¸ê²Œì„ì—ì„œ ë” ìì—°ìŠ¤ëŸ¬ìš´ ë°©í–¥ ì „í™˜ì´ ê°€ëŠ¥í•´ ì§„ë‹¤.
   ```
   * Animator Component ì˜ í›Œë¥­í•œ ê¸°ëŠ¥ë“¤ ì¤‘ì˜ í•˜ë‚˜ëŠ” 
   ì• ë‹ˆë©”ì´ì…˜ì— ê¸°ë°˜í•˜ì—¬ ìºë¦­í„°ë¥¼ ì‹¤ì œë¡œ ì›€ì§ ì¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
   * ì´ ê¸°ëŠ¥ì„ Root Motion ì´ë¼ê³  ë¶€ë¥´ë©° 
   Animator Component ì— ë””í´íŠ¸ ê°’ì´ true ì¸ Apply Root Motion í”„ë¡œí¼í‹°ê°€ ìˆìŠµë‹ˆë‹¤.
   * "_RunLeft_.Anim", "_RunRight_.Anim" ì´ ë‘ê°€ì§€ ì• ë‹ˆ ë©”ì´ì…˜ ì—ì…‹ì„ ê°€ì§€ê³  Blending í•˜ëŠ”ì‹ìœ¼ë¡œ í”Œë ˆì´ì–´ë¥¼ ì¡°ì‘í•˜ë©´ 
    ìŠ¤í¬ë¦½íŠ¸ê°€ ì•„ë‹Œ ì• ë‹ˆë©”ì´ì…˜ì— ì˜ì¡´í•˜ëŠ” ìŒì§ì„ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
   ```
* í”Œë ˆì´ì–´ ì¸í’‹ì€ InputSystemìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ë” ë¹ ë¥¸ ë°˜ì‘ì„ ì–»ì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì´ì ì„ ê³µë¶€í•´ ë³´ì.

### ğŸ“„ 2). ë„¤íŠ¸ì›Œí¬ ìƒì˜ Prefab ì¸ìŠ¤í„´ìŠ¤í™” í•˜ê¸°
* ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Resources ì—ì…‹ í˜•íƒœë¡œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê²ƒ ì´ê³ ,
ì´ ê¸°ëŠ¥ì€ Addressalbeë¡œ ëŒ€ì²´í•˜ëŠ” ê²ƒì„ ê³ ë¯¼í•´ì•¼ í•œë‹¤.
    * [ì—ì…‹ë²ˆë“¤ ì–´ë“œë ˆì„œë¸”(Addressable) ê°™ì´ ì‚¬ìš©í•˜ëŠ”ë²• 1](https://wolstar.tistory.com/3)
    * [ì—ì…‹ë²ˆë“¤ ì–´ë“œë ˆì„œë¸”(Addressable) ê°™ì´ ì‚¬ìš©í•˜ëŠ”ë²• 2](https://doc.photonengine.com/ko-kr/pun/current/gameplay/instantiation)

### ğŸ“„ 3). `MonoBehaviourPunCallbacks.photonView.IsMine`ë¥¼ í†µí•œ ì†Œìœ ê¶Œ
* ê·¸ë‹ˆê¹ ì´ê²Œ trueë¼ëŠ” ê²ƒì€ ì´ í”Œë ˆì´ì–´ê°€ ë‚´êº¼ë¼ëŠ” ê²ƒì´ê³ .
Instantiate ë˜ì—ˆì„ë•Œ, ë§Œì•½ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì— ì˜í•´ ìƒì„±ëœ Instanceë¼ë©´ IsMineì€ falseê°€ ë˜ê² ì§€
* ìš°ë¦¬ë¥¼ íˆíŠ¸í•œ ë¹”ì¼ë•Œë§Œ ì²´ë ¥ì— ì˜í–¥ì„ ë°›ê¸° ì›í•˜ë¯€ë¡œ IsMine ì²´í¬ë¥¼ í•œë‹¤.
  * ê·¸ëŸ¼ ì‹¤ì œë¡œ ë‚´ê°€ ìœ ë¹”ì´ í”Œë ˆì´ì–´ ì½œë¼ì´ë”ì— ë¶™ìœ¼ë©´ ë‚´ê°€ ì§„ì§œ ë°ë¯¸ì§€ ì…ëŠ”ê²ƒì´ë‹¤.
* ë°ë¯¸ì§€ ì…ëŠ” ì£¼ì²´ëŠ” ë‹¤ë¥¸ì‚¬ëŒì´ ì•„ë‹Œ ë‚´ê°€ ë˜ì•¼ í•˜ë¯€ë¡œ IsMine true ë¼ëŠ” íŠ¸ë¦­ì„ ì´ìš©í•´
êµ³ì´ Beamì˜ ì†Œìœ  ê°ì²´ë¥¼ ì²´í¬í•˜ì§€ ì•Šì•„ë„ ë°ë¯¸ì§€ë¥¼ ì…ëŠ” íŠ¸ë¦­ì´ ê°€ëŠ¥í•˜ë‹¤.

---

## ğŸ”„ í”Œë ˆì´ì–´ ë„¤íŠ¸ì›Œí‚¹

### ğŸ“„ 1. PhotonView ì»´í¬ë„ŒíŠ¸

* ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•´ì£¼ê¸° ìœ„í•´ì„œëŠ” PhotonView ì»´í¬ë„ŒíŠ¸ê°€ ë¬´ì¡°ê±´~ ì•¡í„°ì— ë¶™ì–´ìˆì–´ì•¼ í•œë‹¤.
ê·¸ë˜ì•¼ ì•¡í„°ì— ëŒ€í•œ ë°ì´í„° ê³µìœ ê°€ ê°€ëŠ¥í•˜ê¸° ë–„ë¬¸ì´ë‹¤.

<div align=center>
    <img src="image/2025-02-07-16-27-38.png">
    <h5>ì´ ì‚¬ì§„ì´ ë‚˜íƒ€ë‚´ëŠ” ë°”ëŠ” <code>Observed Componenets</code>ê°€ ë¬´ì—‡ì´ ì¶”ê°€ ë˜ì—ˆëŠ”ì§€ ë©´ë°€íˆ í™•ì¸í•˜ì </h5>
    <h5>1. PUNì´ ì œê³µí•˜ëŠ” View ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì¸ê²ƒì„ ì—°ê²°í•œë‹¤ë“ ì§€.</h5>
    <h5>2. <code>IPunObservable</code>ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸ì¸ì§€.</h5>
</div>

---

### ğŸ“„ 2. ë„¤íŠ¸ì›Œí¬ í”Œë ˆì´ì–´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±


#### 1). `PhotonNetwork.Instantiate(prefabName, ...ì´í•˜ ë™ë¬¸...)`

* ì„¤ëª…
  : í”„ë¦¬í©ì˜ string ì´ë¦„ìœ¼ë¡œ ì¸ìŠ¤í„´ì‹œì—ì´íŠ¸ í•˜ëŠ”ë° ì¤‘ìš”í•œ ì ì€
  ë‚´ë¶€ êµ¬í˜„ì€ `Resources.Load()` ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì„ ì´í•´í•´ì•¼ í•œë‹¤.

### ğŸ“„ 3. ì”¬ ì „í™˜ì—ë„ ìœ ì§€ë˜ëŠ” í”Œë ˆì´ì–´

* ìƒˆë¡œìš´ í”Œë ˆì´ì–´ê°€ ë“¤ì–´ì™”ë‹¤ë˜ì§€, ë‹¤ë¦„ ë ˆë²¨ë¡œ ì´ë™í–ˆë‹¤ë˜ì§€ ë“±ë“± 
ì´ë•Œ, ë””í´íŠ¸ ì”¬ì„ ë§Œë“¤ ë•ŒëŠ” ë‹¹ì—°íˆ ë‚´ í”Œë ˆì´ì–´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì”¬ì¼ ê²ƒì´ë‹¤.
* ì´ë–„ ë™ì ìœ¼ë¡œ ì”¬ ì „í™˜ì‹œ ë‚´ í”Œë ˆì´ì–´ë¥¼ ìœ ì§€í•˜ê²Œ í•˜ë ¤ë©´ `DonDestroyOnLoad(this.gameObject)`ì™€ `Static Instance's Ref`ë¥¼ í†µí•´ ë‚´ í´ë¼ì´ì–¸íŠ¸ì˜ í”Œë ˆì´ì–´ë¥¼ ìºì‹±í•´ì•¼í•œë‹¤.
  * ì”¬ ì´ë™í• ë•Œ ë§ˆë‹¤ì— ìƒê´€ì—†ì´ ì˜¤ë¸Œì íŠ¸ ìƒì„±ì— ë”± í•œë²ˆ ì‹¤í–‰ë˜ëŠ” `Awake()`ë¥¼ ì‘ìš©í•˜ì—¬ 
  ë‚´ í´ë¼ì´ì–¸íŠ¸ì˜ í”Œë ˆì´ì–´ë¥¼ ìœ„ì™€ ê°™ì€ ëˆë””ìŠ¤íŠ¸ë¡œì´ë“œì™€, ìŠ¤íƒœí‹± ìºì‹±ì„ í•˜ì.
  * ê·¸ë¦¬ê³  ì”¬ ì´ë™ë§ˆë‹¤ ìˆ˜í–‰í•´ì•¼í•˜ëŠ” í•¨ìˆ˜ë¥¼ `UnityEngine.SceneManagement.SceneManager.sceneLoaded` ì— êµ¬ë…í•˜ê²Œë” í•˜ê³  
  ë‹¹ì—°íˆ ì¶©ì²© ë˜ì§€ ì•Šë„ë¡ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  ë‚˜ë©´ 
  êµ¬ë… í•´ì œ ë¬¸ë²•ë„ ì´ë™ì‹œ ìˆ˜í–‰í•  í•¨ìˆ˜ ë™ì‘ì— í•¨ê»˜ ì¶”ê°€í•˜ì

### ğŸ“„ 4. Dependency Setter Binding

* A --> B ê´€ê³„ (ì¦‰, A ì˜¤ë¸Œì íŠ¸ê°€ B ì˜¤ë¸Œì íŠ¸ì— ì˜ì¡´í•  ë•Œ,) 
ê·¸ë¦¬ê³ , AëŠ” Bì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´. **"ìƒì„±ì Setter ì˜ì¡´ ì£¼ì…"** ì„ ì‘ìš©í•´ë³´ì.
  ```cs
  public class A {
    B dependingObject;
    A() {
        dependingObject = new B(this);
    }
  }

  public class B {
    B(A owner) {
        Get Owner's Someting;
    }
  }
  ```

### ğŸ“„ 5. WorldPosition to ScreenPosition

* ê²Œì„ ì˜¤ë¸Œì íŠ¸ê°€ ì¦ë¹„í•˜ëŠ” worldì˜ 3d ìš”ì†Œë¥¼ 
ì–´ë–»ê²Œ uiê°€ ì¦ë¹„í•˜ëŠ” screenì˜ 2dìš”ì†Œë¡œ ìœ„ì¹˜ë¥¼ ë§ì¶œ ìˆ˜ ìˆì„ê¹Œ?
    ```cs
    /* UI Script */
    this.transform.position = Camera.main.WorldToScreenPoint (targetPosition) + screenOffset;
    ```
* 2d ìœ„ì¹˜ì™€ 3d ìœ„ì¹˜ë¥¼ ë§ì¶”ê¸° ìœ„í•œ íŠ¸ë¦­ìœ¼ë¡œ ì¹´ë©”ë¼ì˜ WorldToScreenPoint í•¨ìˆ˜ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. 
ê·¸ë¦¬ê³  ê²Œì„ì—ì„œ ì¹´ë©”ë¼ í•˜ë‚˜ë§Œì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ 
ìœ ë‹ˆí‹° ì‹ ì˜ ë””í´íŠ¸ ì„¤ì •ì— ìˆëŠ” ë©”ì¸ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”„ ê³ ë¯¼í•  ê±°ë¦¬

#### 1. Resources ëŒ€ì‹  Addressableì„ ì‚¬ìš©í•´ ë³´ì.
