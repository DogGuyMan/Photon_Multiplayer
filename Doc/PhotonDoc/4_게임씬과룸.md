---
ebook:
  theme: one-dark.css
  title: Photon
  authors: Escatrgot
  disable-font-rescaling: true
  margin: [0.1, 0.1, 0.1, 0.1]
---
<style>
        h2:not(.tit) { border-top: 12px solid #143666; border-left: 5px solid #143666; border-right: 5px solid #143666; background-color: #143666; color: #FFF !important; font-weight: bold;}

    h3:not(.tit) { border-top: 3px solid #004480; border: 2px solid #004480; background-color: #004480; color: #FFF !important;}


    h4:not(.tit) { font-weight: bold; color: #FFF !important; }

    summary { cursor:pointer; font-weight:bold; color : #0F0 !important;}

    .red{color: #d93d3d;}
    .darkred{color: #470909;}
    .orange{color: #cf6d1d;}
    .yellow{color: #DD3;}
    .green{color: #25ba00;}
    .blue{color: #169ae0;}
    .pink{color: #d10fd1;}
    .dim{color : #666666;}
    .lime{color : #addb40;}
    
    .container {
        display : flex; 
        flex-direction:row;
        align-items:center;
    }
    .item {
        margin-right:2%;
    }

    @media screen and (min-width:1001px){
        .container {
            width: 90%;
            flex-wrap : nowrap;
            justify-content:center;
        }
    }
    
    @media screen and (max-width:1000px){
        .container {
            width: 98%;
            flex-wrap : nowrap;
            justify-content:center;
        }
    }
    
    @media screen and (max-width:799px){
        .container {
            justify-content:left;
            flex-wrap : wrap;
        }
    }

</style>

## ğŸ”„ ê²Œì„ ì”¬ê³¼ ë£¸(ë ˆë²¨)

### ğŸ“„ 1. ë°© ë– ë‚˜ê¸° ë¡œì§ ì²˜ë¦¬
í”Œë ˆì´ì–´ ìˆ˜ì— ë”°ë¼ ì ì •í•œ ë ˆë²¨ì„ ë¡œë“œí•˜ëŠ” ë¡œì§ì„ êµ¬í˜„ í•  ê²ƒ

```cs
/* GameManager.SceneManagement.cs */
ë°© ë– ë‚˜ê¸° ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ GameManager

1.  "Exit Room Button" UI Button í´ë¦­ì‹œ ì‹¤í–‰ë  í•¨ìˆ˜
    LeaveRoom(){PhotonNetwork.LeaveRoom();}

2.  IMatchmakingCallbacks.OnLeftRoom() ì½œë°±ì´ í˜¸ì¶œë˜ë©°, 
    ì´ë•Œ UnityEngine.SceneManagement.SceneManager.LoadScene(int index);
    ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.

```

#### 1). `PhotonNetwork.LeaveRoom()`

  * ì„¤ëª… 
    :   í”Œë ˆì´ ì¤‘ì´ì˜€ë˜ í˜„ì¬ ë£¸ì„ ë– ë‚˜ë©´ì„œ *(PhotonServer's GameServer ì—ì„œ ë– ë‚œë‹¤)*
        ê·¸ë¦¬ê³  ë°©ì„ ìƒì„±í•˜ê³  Join í–‰ë™ì„ í•˜ë˜ ì”¬ìœ¼ë¡œ ëŒì•„ê°„ë‹¤ *(PhotonServer's Master Serverë¡œ ëŒì•„ê°„ë‹¤.)*
        ê·¸ë¦¬ê³  ì—°ê²°ìƒíƒœëŠ” OfflineModeë¡œ ë³€í•œë‹¤. ì´ì™€ ë™ì‹œì— "PhotonViewì™€ Network GameObject"ê°€ í´ë¦° ì—… ë  ê²ƒì´ë‹¤.
        ê·¸ë¦¬ê³  ì¦‰ì‹œ `IMatchmakingCallbacks.OnLeftRoom()`ì´ í˜¸ì¶œëœë‹¤.
    : ë§Œì•½ ë£¸ì— ë‚¨ì•„ ìˆëŠ” í”Œë ˆì´ì–´ ìˆ˜ê°€
        * 1ëª…ì´ë¼ë„ ë‚¨ì•„ ìˆìœ¼ë©´ : ì„¸íŒ…ì— becomeInactiveê°€ true ìƒíƒœì—ì„œëŠ” 
            ì‚­ì œë˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ë¹„í™œì„±(inactive) ëœë‹¤.
            ë”°ë¼ì„œ ë‚˜ì¤‘ì— ì¬ì ‘ì„ ìœ„í•´ í”Œë ˆì´ì–´ ë¦¬ìŠ¤íŠ¸ì— ì—¬ì „íˆ ë‚¨ì•„ ìˆë‹¤.
            ë§Œì•½ becomeInactiveê°€ falseë¼ë©´ ì§„ì§œë¡œ ì‚­ì œí•œë‹¤.
        * í•˜ë‚˜ë„ ì—†ë‹¤ë©´ ê·¸ëƒ¥ : ë°© ìì²´ê°€ ì˜ë¯¸ ì—†ìŒ
  * ìš©ë¡€
    :   

### ğŸ“„ 2. í”Œë ˆì´ì–´ ìˆ˜ì— ê¸°ë°˜í•œ ë‹¤ì–‘í•œ ë ˆë²¨ ë¡œë”© ì²˜ë¦¬

```cs
/* GameManager.SceneManagement.cs */

ë ˆë²¨ì„ ë¡œë“œí•˜ëŠ” ë¡œì§ ë˜í•œ ì²˜ë¦¬í•˜ëŠ”ê²ƒì€ GameManagerì´ê¸°ë„ í•˜ë‹¤.

1.  ë§ˆìŠ¤í„° í´ë¼ì´ì–¸íŠ¸ì¸ì§€ ì•„ë‹Œì§€ í™•ì¸í•œë‹¤. ì´ê±¸ ì²´í¬í•˜ëŠ” ê²ƒì€ í˜¸ì¶œì í´ë¼ì´ì–¸íŠ¸ê°€ ë  ê²ƒì´ë‹¤. 
2.  ì˜¤ì§ ë§ˆìŠ¤í„° í´ë¼ì´ì–¸íŠ¸ë§Œ PhotonNetwork.LoadLevel(string) ì„ ìˆ˜í–‰í•˜ë„ë¡ í•œë‹¤.
    PhotonNetwork.automaticallySyncSceneì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë§ˆìŠ¤í„° í´ë¼ì´ì–¸íŠ¸ì˜ ì”¬ì„ 
    ì ‘ì†í•œ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ê°€ ë™ê¸°í™” ë˜ë„ë¡ í•œë‹¤.

```

#### 1). [`PhotonNetwork.LoadLevel()`](https://doc-api.photonengine.com/en/pun/current/class_photon_1_1_pun_1_1_photon_network.html#aedba3c40295e3684fedc64acf678a5cd)

### ğŸ“„ 3. í”Œë ˆì´ì–´ ì°¸ê°€ & ë– ë‚˜ê¸° ì—°ê²° ê´€ì°°

```
/* GameManager.UserManagement.cs */

1. ë‹¤ë¥¸ í”Œë ˆì´ì–´ê°€ Joiní• ë•Œ í˜¸ì¶œë  OnPlayerEnderedRoom(Player other) ì½œë°± í˜¸ì¶œ êµ¬í˜„
2. ë‹¤ë¥¸ í”Œë ˆì´ì–´ê°€ Leaveí• ë•Œ í˜¸ì¶œë  OnPlayerLeftRoom(Player other) ì½œë°± í˜¸ì¶œ êµ¬í˜„

ìœ„ ë‘ê°€ì§€ ì²˜ë¦¬ì—ì„œ ê³µí†µì ìœ¼ë¡œ í•´ì•¼ í•˜ëŠ” ê²ƒì€ LoadArenaì´ë©°, 

```

### ğŸ“„ 4. ë¡œë¹„ì—ì„œ ë ˆë²¨ ë¡œë”©

ì•„ì§ ë£¸ì— ë“¤ì–´ê°€ì§€ ì•Šì•˜ì„ë•Œ, ë¡œë¹„ì—ì„œ ë£¸ì„ ë¶ˆëŸ¬ ì˜¬ ë•Œ,

### ğŸ“„ 5. 
